import { Head, Appear, Image, Notes } from "mdx-deck";
import { default as defaultTheme } from "../../theme";

export const theme = defaultTheme;

<Head>
  <title>Node.js</title>
</Head>

# Node.js

## Week 1: APIs and Express.js

---

# Group Exercise

## Discuss Known APIs

<ol>
  <Appear>
    <li>What APIs do you know about?</li>
    <li>What might you do with them?</li>
  </Appear>
</ol>

---

import { Fetch } from "../../components/Fetch";

<Fetch
  title="Sunrise/Sunset API"
  initialUrl="https://api.sunrise-sunset.org/json?lat=51.5311&lng=0.0481"
/>

---

# Why are APIs useful?

_"This information is on websites already! Why do I need an API?"_

---

<h1>
  <span style={{ color: "red" }}>A</span>pplication
  <br />
  <span style={{ color: "red" }}>P</span>rogramming
  <br />
  <span style={{ color: "red" }}>I</span>nterface
</h1>

---

## Server

an application that **serves** something

---

## Web server

serves **web pages** for humans

## API server

serves **data** for other applications

<Notes>
  A server can be both API + web We are focussed only on API servers here
</Notes>

---

# Building an API server

---

# Node.js

Runs JavaScript code on any\* computer

<small>*within reason</small>

<Notes>
  Explain 'within reason' Same JavaScript as your browser uses No
  browser-specific features
</Notes>

---

# Node.js

Can be used to create:

<ul>
  <Appear>
    <li>Servers</li>
    <li>Command-line tools</li>
    <li>Chat bots</li>
    <li>
      <em>Snazzy presentations</em>
    </li>
  </Appear>
</ul>

<Notes>
  Limit is your imagination, and how well you can express it in JavaScript
</Notes>

---

# Express.js

API framework for node.js

---

# Simple server in express.js

```js
const express = require("express");

const app = express();

app.get("/", (req, res) => res.send("Hello world!"));

app.listen(3000, () => console.log("Listening on port 3000!"));
```

---

import { Glitch } from "../../components/Glitch";

<Glitch project="serious-foremost-wallflower" codePath="server.js" />

<Notes>
  Build node.js server that returns some JSON Ask the class for a theme
</Notes>

---

# Group Exercise

## Build an API server

---

# Install Postman

https://getpostman.com

<Image
  src="https://www.postman.com/assets/downloads/postman-windows.jpg"
  style={{ backgroundSize: "contain", maxHeight: "50vh", minWidth: "40vw" }}
/>

<Notes>
  tool for making HTTP requests hundreds of features, only using the basics
</Notes>

---

# Get the starter project

## Fork and clone the repository:

https://github.com/CodeYourFuture/Node-Starter-Kit

<Notes>Emphasise forking</Notes>

---

# Group Exercise

## Install the dependencies

```sh
npm install
```

---

# `package.json`

```json
{
  "name": "awesome-express-server",
  "version": "1.0.0",
  "description": "My express.js API server",
  "author": {
    "name": "Jim O'Brien",
    "email": "jim@spicy.engineering"
  }
}
```

<Notes>Every node package has a package.json</Notes>

---

# `package.json`

```json
{
  "name": "awesome-express-server",
  "version": "1.0.0",
  "description": "My express.js API server",
  "author": {
    "name": "Jim O'Brien",
    "email": "jim@spicy.engineering"
  },
  "dependencies": {
    "express": "^4.17.1"
  }
}
```

<Notes>
  Specify the node packages we want to use packages are installed from npm when
  we run npm install
</Notes>

---

# (Live coding portion)
